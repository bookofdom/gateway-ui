{{partial 'components/forms/base-remote-endpoint-form'}}

{{#unless model.isNew}}
  {{#if model.isHttp}}
    <div class="row">
      <div class="col-md-6">
        {{#ap-panel-edit t='resources.remote-endpoint-header_plural'}}
          {{ap-table-model
            models=model.headers
            delete-action='delete-remote-endpoint-header'
            component-name='forms/remote-endpoint-header-inline-form'}}
          {{ap-button-block-new
            t='resources.remote-endpoint-header'
            action='new-remote-endpoint-header'}}
        {{/ap-panel-edit}}
      </div><!-- /.col -->
      <div class="col-md-6">
        {{#ap-panel-edit t='resources.remote-endpoint-query-parameter_plural'}}
          {{ap-table-model
            models=model.query
            delete-action='delete-remote-endpoint-query-parameter'
            component-name='forms/remote-endpoint-query-parameter-inline-form'}}
          {{ap-button-block-new
            t='resources.remote-endpoint-query-parameter'
            action='new-remote-endpoint-query-parameter'}}
        {{/ap-panel-edit}}
      </div><!-- /.col -->
    </div><!-- /.row -->
  {{/if}}
  {{#if model.isPush}}
    {{#ap-panel-edit t='resources.remote-endpoint-push-platform_plural'}}
      {{ap-table-index
          models=model.push_platforms
          fields='platformName:fields.type,name'
          path='remote-endpoint-push-platform.index'
          edit-path='remote-endpoint-push-platform.edit'}}
      {{ap-button-block-new
        t='resources.remote-endpoint-push-platform'
        action='new-remote-endpoint-push-platform'}}
    {{/ap-panel-edit}}
  {{/if}}
{{/unless}}

{{#if model.isMongo}}
  {{#ap-panel-edit t='resources.host_plural'}}
    {{ap-table-model
      models=model.hosts
      delete-action='delete-remote-endpoint-host'
      component-name='forms/remote-endpoint-host-inline-form'}}
    {{ap-button-block-new
      t='resources.host'
      action='new-remote-endpoint-host'}}
  {{/ap-panel-edit}}
{{/if}}

{{#unless model.isNew}}
  {{#ap-panel-edit t='resources.remote-endpoint-environment-datum_plural'}}
    {{ap-table-index
      models=model.environment_data
      fields='environment:resources.environment:object-name'
      delete-action='delete-remote-endpoint-environment-datum'
      path='remote-endpoint-environment-datum.edit'
      edit-path='remote-endpoint-environment-datum.edit'}}
    {{ap-button-block-new
      t='resources.remote-endpoint-environment-datum'
      action='new-remote-endpoint-environment-datum'}}
  {{/ap-panel-edit}}
{{/unless}}

{{partial 'components/forms/base-form-actions'}}
